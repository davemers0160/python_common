



<!DOCTYPE html>
<html lang="en">
  
  <head>
    
      <meta charset="utf-8">
      <title>Bokeh Plot</title>
      
      
        
          
        
        
          
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-2.3.0.min.js" integrity="sha384-HjagQp6T0/7bxYTAXbLotF1MLAGWmhkY5siA1Gc/pcEgvgRPtMsRn0gQtMwGKiw1" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-widgets-2.3.0.min.js" integrity="sha384-ZEPPTjL+mdyqgIq+/pl9KTwzji8Kow2NnI3zWY8+sFinWP/SYJ80BnfeJsa45iYj" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdn.bokeh.org/bokeh/release/bokeh-tables-2.3.0.min.js" integrity="sha384-exLqv2ACDRIaV7ZK1iL8aGzGYQvKVuT3U2CT7FsQREBxRah6JrkVCoFy0koY1YqV" crossorigin="anonymous"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/9.3.2/math.js" integrity="sha512-Imer9iTeuCPbyZUYNTKsBWsAk3m7n1vOgPsAmw4OlkGSS9qK3/WlJZg7wC/9kL7nUUOyb06AYS8DyYQV7ELEbg==" crossorigin="anonymous"></script>
        <script type="text/javascript">
            Bokeh.set_log_level("info");
        </script>
        
      
      
    
  </head>
  
  
  <body>
    
      
        
          
          
            
              <div class="bk-root" id="951ca09d-152f-4eca-a572-00f594c1df6b" data-root-id="1106"></div>
            
          
        
      
      
        <script type="application/json" id="1283">
          {"99f3cf4b-d549-4aa4-9262-92a4a8040412":{"defs":[{"extends":null,"module":null,"name":"DataModel","overrides":[],"properties":[]}],"roots":{"references":[{"attributes":{"below":[{"id":"1024"}],"center":[{"id":"1027"},{"id":"1031"}],"height":700,"left":[{"id":"1028"}],"renderers":[{"id":"1049"},{"id":"1054"},{"id":"1059"},{"id":"1064"},{"id":"1069"},{"id":"1074"},{"id":"1079"}],"title":{"id":"1014"},"toolbar":{"id":"1039"},"width":1300,"x_range":{"id":"1016"},"x_scale":{"id":"1020"},"y_range":{"id":"1018"},"y_scale":{"id":"1022"}},"id":"1013","subtype":"Figure","type":"Plot"},{"attributes":{},"id":"1125","type":"Selection"},{"attributes":{},"id":"1022","type":"LinearScale"},{"attributes":{"source":{"id":"1006"}},"id":"1089","type":"CDSView"},{"attributes":{"columns":[{"id":"1082"},{"id":"1085"}],"editable":true,"height":125,"source":{"id":"1006"},"view":{"id":"1089"},"width":250},"id":"1087","type":"DataTable"},{"attributes":{},"id":"1018","type":"DataRange1d"},{"attributes":{"editor":{"id":"1116"},"field":"x","formatter":{"id":"1081"},"title":"X (km)"},"id":"1082","type":"TableColumn"},{"attributes":{"axis_label":"X (km)","axis_label_text_font_style":"bold","formatter":{"id":"1111"},"major_label_policy":{"id":"1112"},"ticker":{"id":"1025"}},"id":"1024","type":"LinearAxis"},{"attributes":{"source":{"id":"1008"}},"id":"1080","type":"CDSView"},{"attributes":{},"id":"1020","type":"LinearScale"},{"attributes":{},"id":"1120","type":"UnionRenderers"},{"attributes":{"data_source":{"id":"1008"},"glyph":{"id":"1077"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1078"},"view":{"id":"1080"}},"id":"1079","type":"GlyphRenderer"},{"attributes":{"data":{"rx":[0.01,0.01,0.01],"s":{"__ndarray__":"AAAAAAAAEEAAAAAAAAAUQAAAAAAAAPA/AAAAAAAAAEAAAAAAAAAIwAAAAAAAAABA","dtype":"float64","order":"little","shape":[3,2]},"t":{"__ndarray__":"x4RNabHX7D7HhE1psdfsPsDtBYEFffE+","dtype":"float64","order":"little","shape":[3]},"x":{"__ndarray__":"AAAAAAAAEEAAAAAAAADwPwAAAAAAAAjA","dtype":"float64","order":"little","shape":[3]},"y":{"__ndarray__":"AAAAAAAAFEAAAAAAAAAAQAAAAAAAAABA","dtype":"float64","order":"little","shape":[3]}},"js_property_callbacks":{"patching":[{"id":"1012"}]},"selected":{"id":"1115"},"selection_policy":{"id":"1114"}},"id":"1006","type":"ColumnDataSource"},{"attributes":{},"id":"1037","type":"HelpTool"},{"attributes":{"axis_label":"Y (km)","axis_label_text_font_style":"bold","formatter":{"id":"1108"},"major_label_policy":{"id":"1109"},"ticker":{"id":"1029"}},"id":"1028","type":"LinearAxis"},{"attributes":{"format":"0[.]000","text_align":"center"},"id":"1084","type":"NumberFormatter"},{"attributes":{},"id":"1121","type":"Selection"},{"attributes":{"editor":{"id":"1117"},"field":"y","formatter":{"id":"1084"},"title":"Y (km)"},"id":"1085","type":"TableColumn"},{"attributes":{},"id":"1025","type":"BasicTicker"},{"attributes":{"axis":{"id":"1024"},"ticker":null},"id":"1027","type":"Grid"},{"attributes":{"columns":[{"id":"1082"},{"id":"1085"}],"editable":true,"height":75,"source":{"id":"1008"},"view":{"id":"1095"},"width":250},"id":"1093","type":"DataTable"},{"attributes":{"columns":[{"id":"1082"},{"id":"1085"}],"editable":true,"height":75,"source":{"id":"1007"},"view":{"id":"1092"},"width":250},"id":"1090","type":"DataTable"},{"attributes":{},"id":"1126","type":"UnionRenderers"},{"attributes":{"axis":{"id":"1028"},"dimension":1,"ticker":null},"id":"1031","type":"Grid"},{"attributes":{},"id":"1029","type":"BasicTicker"},{"attributes":{},"id":"1127","type":"Selection"},{"attributes":{},"id":"1033","type":"WheelZoomTool"},{"attributes":{},"id":"1032","type":"PanTool"},{"attributes":{"overlay":{"id":"1038"}},"id":"1034","type":"BoxZoomTool"},{"attributes":{},"id":"1124","type":"UnionRenderers"},{"attributes":{"source":{"id":"1007"}},"id":"1092","type":"CDSView"},{"attributes":{},"id":"1035","type":"SaveTool"},{"attributes":{},"id":"1036","type":"ResetTool"},{"attributes":{"children":[{"id":"1002"},{"id":"1096"},{"id":"1003"}]},"id":"1097","type":"Row"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"marker":{"value":"diamond"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1057","type":"Scatter"},{"attributes":{"source":{"id":"1008"}},"id":"1095","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"line_alpha":{"value":0.1},"line_color":{"value":"blue"},"size":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"1063","type":"Scatter"},{"attributes":{"data_source":{"id":"1007"},"glyph":{"id":"1057"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1058"},"view":{"id":"1060"}},"id":"1059","type":"GlyphRenderer"},{"attributes":{"data_source":{"id":"1011"},"glyph":{"id":"1072"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1073"},"view":{"id":"1075"}},"id":"1074","type":"GlyphRenderer"},{"attributes":{"width":20},"id":"1105","type":"Spacer"},{"attributes":{"source":{"id":"1007"}},"id":"1060","type":"CDSView"},{"attributes":{"text":"&lt;B&gt;Initial Guess&lt;/B&gt;","width":220},"id":"1100","type":"Div"},{"attributes":{"fill_color":{"value":"blue"},"line_color":{"value":"blue"},"size":{"value":3},"x":{"field":"x"},"y":{"field":"y"}},"id":"1062","type":"Scatter"},{"attributes":{"text":"&lt;B&gt;Receiver Positions&lt;/B&gt;","width":220},"id":"1098","type":"Div"},{"attributes":{"data":{"x":[0.0],"y":[6.0]},"js_property_callbacks":{"patching":[{"id":"1012"}]},"selected":{"id":"1121"},"selection_policy":{"id":"1120"}},"id":"1008","type":"ColumnDataSource"},{"attributes":{"height":10},"id":"1103","type":"Spacer"},{"attributes":{"data_source":{"id":"1006"},"glyph":{"id":"1052"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1053"},"view":{"id":"1055"}},"id":"1054","type":"GlyphRenderer"},{"attributes":{"text":"&lt;B&gt;Emitter Position&lt;/B&gt;","width":220},"id":"1102","type":"Div"},{"attributes":{"source":{"id":"1006"}},"id":"1055","type":"CDSView"},{"attributes":{"height":10},"id":"1101","type":"Spacer"},{"attributes":{"background":[255,255,255],"disabled":true,"title":"AOU (km^2)","value":"0.038872","width":245},"id":"1005","type":"TextInput"},{"attributes":{"height":10},"id":"1099","type":"Spacer"},{"attributes":{"children":[{"id":"1098"},{"id":"1087"},{"id":"1099"},{"id":"1100"},{"id":"1090"},{"id":"1101"},{"id":"1102"},{"id":"1093"},{"id":"1097"},{"id":"1103"},{"id":"1005"}]},"id":"1104","type":"Column"},{"attributes":{},"id":"1108","type":"BasicTickFormatter"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"red"},"line_alpha":{"value":0.1},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1078","type":"Scatter"},{"attributes":{},"id":"1109","type":"AllLabels"},{"attributes":{"bottom_units":"screen","fill_alpha":0.5,"fill_color":"lightgrey","left_units":"screen","level":"overlay","line_alpha":1.0,"line_color":"black","line_dash":[4,4],"line_width":2,"right_units":"screen","syncable":false,"top_units":"screen"},"id":"1038","type":"BoxAnnotation"},{"attributes":{"line_color":"lime","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1072","type":"Line"},{"attributes":{"data":{"x":[0.333],"y":[3.0]},"js_property_callbacks":{"patching":[{"id":"1012"}]},"selected":{"id":"1119"},"selection_policy":{"id":"1118"}},"id":"1007","type":"ColumnDataSource"},{"attributes":{"children":[{"id":"1104"},{"id":"1105"},{"id":"1013"}]},"id":"1106","type":"Row"},{"attributes":{"high":1.0,"js_property_callbacks":{"change:value":[{"id":"1012"}]},"low":0.0,"step":1e-08,"title":"Time Error (s)","value":1e-07,"value_throttled":1e-07,"width":110},"id":"1003","type":"Spinner"},{"attributes":{},"id":"1111","type":"BasicTickFormatter"},{"attributes":{},"id":"1112","type":"AllLabels"},{"attributes":{"source":{"id":"1011"}},"id":"1075","type":"CDSView"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"lime"},"line_alpha":{"value":0.1},"line_color":{"value":"lime"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1068","type":"Scatter"},{"attributes":{"active_multi":null,"tools":[{"id":"1032"},{"id":"1033"},{"id":"1034"},{"id":"1035"},{"id":"1036"},{"id":"1037"}]},"id":"1039","type":"Toolbar"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"blue"},"line_alpha":{"value":0.1},"line_color":{"value":"blue"},"marker":{"value":"diamond"},"size":{"value":10},"x":{"field":"x"},"y":{"field":"y"}},"id":"1058","type":"Scatter"},{"attributes":{},"id":"1122","type":"UnionRenderers"},{"attributes":{"source":{"id":"1010"}},"id":"1070","type":"CDSView"},{"attributes":{"source":{"id":"1009"}},"id":"1065","type":"CDSView"},{"attributes":{},"id":"1114","type":"UnionRenderers"},{"attributes":{},"id":"1123","type":"Selection"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"line_alpha":{"value":0.1},"radius":{"field":"rx"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1048","type":"Circle"},{"attributes":{},"id":"1115","type":"Selection"},{"attributes":{"line_alpha":0.1,"line_color":"lime","line_width":2,"x":{"field":"x"},"y":{"field":"y"}},"id":"1073","type":"Line"},{"attributes":{"source":{"id":"1006"}},"id":"1050","type":"CDSView"},{"attributes":{},"id":"1116","type":"StringEditor"},{"attributes":{"fill_color":{"value":"black"},"marker":{"value":"inverted_triangle"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1052","type":"Scatter"},{"attributes":{"data_source":{"id":"1006"},"glyph":{"id":"1047"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1048"},"view":{"id":"1050"}},"id":"1049","type":"GlyphRenderer"},{"attributes":{"fill_alpha":{"value":0.1},"fill_color":{"value":"black"},"line_alpha":{"value":0.1},"marker":{"value":"inverted_triangle"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1053","type":"Scatter"},{"attributes":{"data_source":{"id":"1009"},"glyph":{"id":"1062"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1063"},"view":{"id":"1065"}},"id":"1064","type":"GlyphRenderer"},{"attributes":{"width":15},"id":"1096","type":"Spacer"},{"attributes":{},"id":"1117","type":"StringEditor"},{"attributes":{"high":10.0,"js_property_callbacks":{"change:value":[{"id":"1012"}]},"low":0.0,"step":0.001,"title":"Position Error (km)","value":0.01,"value_throttled":0.01,"width":110},"id":"1002","type":"Spinner"},{"attributes":{"data":{"x":{"__ndarray__":"Swt12IRcrj+7Z8VpHohyP74AhFULL3w/dZwi+omlmz+VWkJt+amsP1hPc6wf0ok/EIDrjQNdYj8kz7w7SOJ3PwX7XD4Kj5G/+6DJIV7eqz/zXOOODnamv8n+B6OHXq+/F/ALyIwzbL/61lg07TatP5FzDuctJYG/KmyR/THajj9zheuvWqWSv987wYIa+JG/TX3m7mjmjz/OTVaCsbK2P2h6PXPdW7Q/4jhD/m4+mj9APjHUdYmjvyTZxlPTlqi/+lc2Q7oXpj8vH40MqxerP6EHD3+qjZy/gu9NIqNeez/Bdsc/Sw+MP6m2FwYCMJM/k54dT6LFpD/JfrfyivyAP5Mbx+FpR6G/TNRjFNh1tT/usQEd9l+3P52v3mEm75E/MDhmYz1UmT9FCZ3x4ZGTv3qxt1ftcaU/kJVrtCYqeD8rSfGuA7OEvwDf4XEB5am/+9r3dAozrz+ssuoWhTijP4rAgMeKPLM/C9Ui5Nnuc7973tSRGTyjP1OVxr5cnri/zyYmxIa6hr9o0xMVcteev3KYUPuGnl+/sTRore9jqb+d9g9Er4KQv7YJJGpGsX+/G0BAV3q1cj8QZQA5YJOlP0+yYUXEF6c/a8NLTMNnhj/kmL4URV2Zv/SLcrRPfFY/e4wght5noj+CNe8jTVGtP8ZZOk8Qhpq/ysC4jJl+dD8RRiJcM0e0P+uOUbUnV3g/Jvts84sLnL9YTGz8OBaWP/tMlyb2O5W/hYS4d13Jo7/fKJ3JvRWZP9+UGokSGZg/TIYRTRqUpD+HPcFz6NGfv5lz58TfEq8/vshhQUI6qr94aU8nAt9wv74v6+JBW7C/6fZk39imlb9qVeKMI4ygv/qfB+VhIXO/U14FptJim79pmB46R7iJv8Xe9bDtLTM/q5mmoDDqlL8eiuxyFBKRPzmzxkmDGJs/m1bwX34enz/ftdD4bfOhP5eKXkE/BqI/obTqf45eor9LB0mEguOqv2KknqJqkK6/lvVAcV+Mn79IrO8L7Pm3v07SWcmGmKu/EZOGkc03pr9EamwUW4CVP5GSM8qj7aI/rPiqnVeZo78=","dtype":"float64","order":"little","shape":[100]},"y":{"__ndarray__":"i3DCK1X6F0DBvXYmM8cXQIjkYIKG+BdAE2PlNjWiF0B0uL3BL9oXQJXboDDmthdA+XkysDSsF0Bw7fOcNjgYQEoKYw5VQxhAGoM0gL69F0BGEUEYuGkYQKkbyPt8KRhAnLXcYInpF0Aopp9APmkXQNJL/rOvOhhASEyXRrGZF0DVdhsSOP0XQLYRizcLxBdAcSleP9Y2GEDTVCACHUAXQAEbXc2vaRdA5LKFcG6cF0DAQFrfNDUYQJThGtecHhhAJNYRM0/fF0A02PupWdkXQI5BmGPBGRhA6qRowuF9GEDM+OUHbdIXQMAm7p7ewBdAfrp+2QAPGECTcK1iZOUXQHN4LbhjMBhAv8mUcb23F0CJo7wwjG0XQI1lx7FjiBdAXmK2XB7+F0AkAVCf+EkYQDxGjQTh2BdA6F1VA210F0DLEQhPfwoYQH0p4Iv3GhhA+LkwABSEF0CLsyiISIsXQJCHRmUrrxdA1qR+jVVGGED1TcFtOvsXQK4SPiBYPhhAN2X/3h8PGEB5R3JL1h0YQACvWCLqMxhAT/dsFGdtGEC84x7oQSMYQAGg3OWy+xdAim0MApPYF0Cnsc7pzasXQJF7kFIxMBdAXqN4bmjXF0CbgdbVwwMYQOauinwf9hdA2GCYcIvbF0Cn0t+PV+IXQOZgGd3kSBhAf1s53i4MGEBbvIArnWEXQIfUGrbR7hdAeP36CuLYF0BMF4ahK6IXQOQuSq/zAxhAIhKPm0BGGEB7J1wm5T4YQKopGHjkwBdACT/I5OEcGEDpkV2GkgIYQCdQA0C53RdAKLsRfsScGEBYhoOe2hgYQJSksh/3qxhALPYjFpg9GEC6H0c3PS4YQOqxRU1oFRhAlHSdwY/zF0Bk/j0/0+IXQDMeDvPSIBhAXl8NeKUBGEBT8yNoIr8XQBSveFiUwhdA7KxUhqOxF0C6Ufh5HtQXQJicJHHDBxhADVL28bUsGEBG92wLE0kYQGet19gCXBhAQyWiuq01GECMKufFkoUYQMlMuxANJBhAOpWJojfUGECWJVVo/68XQFNYF/b/wBdAs21qGRfwF0A=","dtype":"float64","order":"little","shape":[100]}},"selected":{"id":"1123"},"selection_policy":{"id":"1122"}},"id":"1009","type":"ColumnDataSource"},{"attributes":{"data":{"x":[0.004019063777630514],"y":[5.990554309960565]},"selected":{"id":"1125"},"selection_policy":{"id":"1124"}},"id":"1010","type":"ColumnDataSource"},{"attributes":{"fill_alpha":{"value":0.4},"fill_color":{"value":"black"},"radius":{"field":"rx"},"x":{"field":"x"},"y":{"field":"y"}},"id":"1047","type":"Circle"},{"attributes":{"fill_color":{"value":"lime"},"line_color":{"value":"lime"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1067","type":"Scatter"},{"attributes":{"data_source":{"id":"1010"},"glyph":{"id":"1067"},"hover_glyph":null,"muted_glyph":null,"nonselection_glyph":{"id":"1068"},"view":{"id":"1070"}},"id":"1069","type":"GlyphRenderer"},{"attributes":{"data":{"x":{"__ndarray__":"FpV4bxz8qr/3sigsFViov98AfLjWmKW/Tem7/zXBor9EHLkfQqifv5xJoSg4qZm/sqkidHyLk78ZZToAuqqKv4S8hroDNXy/CJZLiT00R79mNCXy6Xt2P3p0aDkT7Ic/9LOYXgJFkj+MM8cCZIWYP6A/DdS8sJ4/UrABZlhgoj9SmqAQgFelP2raOtzGOqg/Q+DfuDIHqz+d7eMl4bmtP97lkRUFKLA/ck53m4FjsT+moNDuII6yPywCDzyvprM/Ibg2TwustD/4C/29J521P1xdgP0LebY/nRl8YtU+tz9Bf/AKuO23PzJSTbD/hLg/u9tGYRAEuT/gppUiZ2q5Pw9F+3Wat7k/Fe0Ax1rruT+N2/+8cgW6P1LlHnLHBbo/V4wMj1jsuT8gAllLQLm5Pwe7b1KzbLk/A25MjQAHuT9EeCPRkIi4PyJ+UXPm8bc/ZK4Bw5xDtz+eJRVpZ362P5p58K4Ro7U/VFTurH2ytD+kIU9ho62zP4YOlrCPlbI/bt5aUGNrsT+HT66dUTCwP9urh8A+y60/KpBO90IZqz9EMK8fd02oP8+oYRW9aqU/U6I+Vw50oj9CBpDs8dieP6pP+t44rpg/q09z50xukj+OtMCDPj+IP/z6D4HBInc/wMIgINn+Qb9GZNH+LY97v63ONASQWIq/ChUvQPJik7/Ob9CIYoGZvwCL+SNKgZ+/9Jmf6Tyuor8BWe0YdIalv6Ae2PZbRqi/OYRz6R7rqr/+yutRA3Ktvx0mpVtu2K+/A+7OVfMNsb8LVqd2Cx2yv8g8NB1oGLO/pkF6LQb/s79To8Lt98+0v5WyqPtlirW/v6sfKpAttr/zGIxHzri2v9yIJMuQK7e/B+HmaGGFt78ex4mL48W3v5Jt7LPU7Le/pGKivQz6t79huVQIfu23v7PkzYU1x7e/CsqhrFqHt7+kzH9PLy63v4TAWFkPvLa/eLaebnAxtr/3TAB04Y61v3iHHPsJ1bS/hQLHlakEtL9pk44Qlx6zv8ziUZW/I7K/40DGtiUVsb+zatnLwOevv3kZEKUzgq2/GZV4bxz8qr8=","dtype":"float64","order":"little","shape":[100]},"y":{"__ndarray__":"DsP8cS/dF0CL0vX3TdEXQO9D9aeSxRdAEEHcmQm6F0Daf72xvq4XQMtcm5O9oxdAVP9nlxGZF0CM5lO9xY4XQALsdqLkhBdAF23fdXh7F0AR4hLuinIXQCG1Cj8lahdAiqu3EFBiF0BTqBV2E1sXQC372OR2VBdA8M+9LYFOF0Dcq4F1OEkXQKA2ji6iRBdAT9ZbE8NAF0D055Ehnz0XQAGb6ZU5OxdANa3X6JQ5F0CZdwDMsjgXQInseCiUOBdAslPWHTk5F0CQuw0CoToXQBVCI2LKPBdAvH+oA7M/F0DTigjnV0MXQOM0n0q1RxdAi1KYrsZMF0AAEJPZhlIXQDqKBN7vWBdAzR9UIPtfF0DJLKtdoWcXQEAscbPabxdAM4hsp554F0D6tn8w5IEXQBGk+b+hixdAa8pvS82VF0Bn2BdXXKAXQDAylgBEqxdAoy42Cnm2F0AOfoDm78EXQO3II8SczRdABkAjmnPZF0BMjz40aOUXQJVphj9u8RdAbLUQV3n9F0COQr8QfQkYQIXcCwptFRhAZYnM9DwhGECmy+Kj4CwYQL/TyBdMOBhAVbHvinNDGEAsxOF9S04YQK/qHMPIWBhAWTaYiuBiGEBdRelsiGwYQFDE/XW2dRhAnQleL2F+GEBPN+6pf4YYQPrUI4cJjhhAmGOmAfeUGEClBlL1QJsYQKIAlObgoBhAbWwZCdGlGED0T8lFDKoYQBrfA0COrRhABIYhWlOwGEB0GC25WLIYQGtO1UecsxhAioWSuBy0GEBVkP6G2bMYQBYxXfjSshhAjrNUGwqxGEAp79bGgK4YQDvRO5g5qxhAuGOP8DenGECpFxbxf6IYQIbqCncWnRhA7MmbFgGXGEDfYCkVRpAYQCQ80GLsiBhAlO9Bk/uAGECtm/XVe3gYQIjgt+11bxhAvvCiJ/NlGECEE4hR/VsYQBB41K+eURhAPcX78uFGGEBbTnMs0jsYQONIScN6MBhA78VjaOckGEAmjXMKJBkYQGtFp8k8DRhAJZkr6z0BGECjOIXMM/UXQGvE0dYq6RdADsP8cS/dF0A=","dtype":"float64","order":"little","shape":[100]}},"selected":{"id":"1127"},"selection_policy":{"id":"1126"}},"id":"1011","type":"ColumnDataSource"},{"attributes":{"text":"TDOA Results"},"id":"1014","type":"Title"},{"attributes":{"fill_color":{"value":"red"},"line_color":{"value":"red"},"size":{"value":5},"x":{"field":"x"},"y":{"field":"y"}},"id":"1077","type":"Scatter"},{"attributes":{},"id":"1016","type":"DataRange1d"},{"attributes":{"args":{"D":2,"N":3,"aou_text":{"id":"1005"},"ctx":{"id":"1010"},"ell":{"id":"1011"},"etx":{"id":"1009"},"ig":{"id":"1007"},"p_err_spin":{"id":"1002"},"st":{"id":"1006"},"t_err_spin":{"id":"1003"},"tx":{"id":"1008"},"v":299792.458},"code":"\n    \n    var num_trials = 100;\n    var st_data = st.data;\n    \n    var v = v;\n    var S = []; //st['s'];\n    var T = [];\n    var Po = [parseFloat(ig.data['x'][0]), parseFloat(ig.data['y'][0])];\n    var P = [tx.data['x'][0], tx.data['y'][0] ];\n\n    var range_err = p_err_spin.value;\n    var time_err = t_err_spin.value\n     \n    //--------------------------------------------------------------------\n    function randn()\n    {\n        return Math.sqrt(-2 * Math.log(1 - Math.random())) * Math.cos(2 * Math.PI * Math.random());\n    }\n    \n    //--------------------------------------------------------------------\n    function calc_tdoa_position(S, T, Po, v)\n    {\n        // error limit\n        var d_err = 1e-3;\n        var err = 1000;\n    \n        // iteration limit\n        var max_iter = 50;\n        var iter = 0;\n        \n        // copy the initial guess\n        var Pn = Po.slice(0);\n        \n        // get the min time value and swap the values for S and T\n        var t_index = T.indexOf(Math.min(...T)) \n        if(t_index != 0)\n        {\n            // swap index and 0\n            [T[0], T[t_index]] = [T[t_index], T[0]];\n            [S[0], S[t_index]] = [S[t_index], S[0]];\n        }\n        \n        //--------------------------------------------------------------------\n        while((iter &lt; max_iter) &amp;&amp; (err &gt; d_err))\n        {\n            // calculate the R's\n            var R = [];\n            for(var idx=0; idx&lt;N; ++idx)\n            {\n                R[idx] = Math.sqrt( (S[idx][0] - Pn[0])*(S[idx][0] - Pn[0]) + (S[idx][1] - Pn[1])*(S[idx][1] - Pn[1]) );\n            }\n            \n            // build A and b\n            var A = [[0,0],[0,0]];\n            var b = [0,0];\n            for(var idx=1; idx&lt;N; ++idx)\n            {\n                A[idx - 1][0] = (S[idx][0] - Pn[0])/R[idx] - (S[0][0] - Pn[0])/R[0];\n                A[idx - 1][1] = (S[idx][1] - Pn[1])/R[idx] - (S[0][1] - Pn[1])/R[0];\n                b[idx - 1] = v * (T[idx] - T[0]) - (R[idx] - R[0]);\n            }\n                \n            var dP = [];          \n            var ATA = math.multiply(math.transpose(A), A);\n            \n            // invertability check\n            if(math.det(ATA) == 0)\n            {\n                //dP = [5,5];\n                ATA = math.add(ATA, math.multiply(1.0, math.identity(ATA.length)))._data;\n            }\n\n            dP = math.multiply(math.multiply(math.inv(ATA), math.transpose(A)), b)\n            \n            // generate new Po: Po = Po - dP\n            Pn = math.subtract(Pn, dP);\n    \n            // get the error\n            //err = Math.sqrt(dP[0]*dP[0] + dP[1]*dP[1]);\n            err = math.sqrt(math.multiply(math.transpose(dP), dP));\n                   \n            ++iter;\n        }\n        \n        return Pn;\n    \n    }\n       \n    //--------------------------------------------------------------------\n    function calc_covariance()\n    {\n        //var CV = mat_mul(P_new[idx])\n    }\n\n    //--------------------------------------------------------------------\n    // Main function code\n    //--------------------------------------------------------------------\n    // build S and update the latest arrival time estimate based on the new station positions\n    for(var idx = 0; idx&lt;N; idx++)\n    {\n        S[idx] = [];\n        S[idx][0] = st_data['x'][idx];\n        S[idx][1] = st_data['y'][idx];\n        T[idx] = Math.sqrt( (S[idx][0] - P[0])*(S[idx][0] - P[0]) + (S[idx][1] - P[1])*(S[idx][1] - P[1]) )/v;\n    }\n      \n    var P_new = [];\n    var Sn = [];\n    var Tn = [];\n    \n    for(var idx=0; idx&lt;num_trials; ++idx)\n    {\n    \n        for(var jdx=0; jdx&lt;N; ++jdx)\n        {\n            Sn[jdx] = [S[jdx][0] + range_err*randn(), S[jdx][1] + range_err*randn()];\n            Tn[jdx] = T[jdx] + time_err*randn()\n        }    \n    \n        // calculate the position\n        P_new[idx] = calc_tdoa_position(Sn, Tn, Po, v);\n        \n    }\n    \n    //var cx = arr_avg(P_new.map(function(value,index) { return value[0]; }) );\n    //var cy = arr_avg(P_new.map(function(value,index) { return value[1]; }) );\n    var C = math.mean(P_new, 0);\n    \n    var Pm = [];\n    Pm[0] = math.subtract(math.row(math.transpose(P_new),0), C[0])[0];\n    Pm[1] = math.subtract(math.row(math.transpose(P_new),1), C[1])[0];\n    \n    // calculate the covariance matrix  \n    var Pc = math.multiply(Pm, math.transpose(Pm), 1/num_trials);\n    \n    // get the eigen values and vectors\n    var p_eigs = math.eigs(Pc);\n    \n    // get the confidence interval\n    var scale = -2 * Math.log(1 - 0.95)\n    p_eigs.values = math.multiply(p_eigs.values, scale);\n    \n    // set the ellipse plotting segments\n    var theta = math.range(0, 2*Math.PI, 2*Math.PI/100, true);\n\n    // calculate the ellipse\n    var r_ellipse = math.multiply(math.multiply(p_eigs.vectors, math.sqrt(math.diag(p_eigs.values))), math.matrix([math.cos(theta), math.sin(theta)]));\n    var r_x = math.add(math.row(r_ellipse,0), C[0]);\n    var r_y = math.add(math.row(r_ellipse,1), C[1]);\n    var aou = math.prod(math.sqrt(p_eigs.values))*Math.PI;\n    \n    aou_text.value = aou.toPrecision(6);\n\n    // return the results   \n    console.log(C);\n    \n    //st['rx'] = [range_err,range_err,range_err];\n    st.data['rx'] = [range_err,range_err,range_err];\n    ctx.data['x'] = [C[0]];\n    ctx.data['y'] = [C[1]];\n    \n    etx.data['x'] = P_new.map(function(value,index) { return value[0]; });\n    etx.data['y'] = P_new.map(function(value,index) { return value[1]; });\n    \n    ell.data['x'] = r_x._data[0];\n    ell.data['y'] = r_y._data[0];\n    \n    ctx.change.emit();\n    etx.change.emit();\n    ell.change.emit();\n    st.change.emit();\n    \n    var bp = 1;\n"},"id":"1012","type":"CustomJS"},{"attributes":{},"id":"1118","type":"UnionRenderers"},{"attributes":{"format":"0[.]000","text_align":"center"},"id":"1081","type":"NumberFormatter"},{"attributes":{},"id":"1119","type":"Selection"}],"root_ids":["1106"]},"title":"Bokeh Application","version":"2.3.0"}}
        </script>
        <script type="text/javascript">
          (function() {
            var fn = function() {
              Bokeh.safely(function() {
                (function(root) {
                  function embed_document(root) {
                    
                  var docs_json = document.getElementById('1283').textContent;
                  var render_items = [{"docid":"99f3cf4b-d549-4aa4-9262-92a4a8040412","root_ids":["1106"],"roots":{"1106":"951ca09d-152f-4eca-a572-00f594c1df6b"}}];
                  root.Bokeh.embed.embed_items(docs_json, render_items);
                
                  }
                  if (root.Bokeh !== undefined) {
                    embed_document(root);
                  } else {
                    var attempts = 0;
                    var timer = setInterval(function(root) {
                      if (root.Bokeh !== undefined) {
                        clearInterval(timer);
                        embed_document(root);
                      } else {
                        attempts++;
                        if (attempts > 100) {
                          clearInterval(timer);
                          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
                        }
                      }
                    }, 10, root)
                  }
                })(window);
              });
            };
            if (document.readyState != "loading") fn();
            else document.addEventListener("DOMContentLoaded", fn);
          })();
        </script>
    
  </body>
  
</html>